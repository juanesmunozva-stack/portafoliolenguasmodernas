<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Centro de Recursos · Lenguas Modernas</title>

<style>
:root{
  --green:#1f7a4d;
  --red:#c0392b;
  --bg:#f6f8f7;
  --white:#ffffff;
  --border:#dcdcdc;
  --ink:#1a1a1a;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--ink);
}

header{
  background:var(--green);
  color:white;
  padding:1rem;
  position:sticky;
  top:0;
  z-index:10;
}

header h1{margin:0;font-size:1.2rem}

nav{
  margin-top:.5rem;
  display:flex;
  gap:.8rem;
  flex-wrap:wrap;
}

nav a{
  color:white;
  text-decoration:none;
  font-size:.9rem;
}

main{
  max-width:1200px;
  margin:auto;
  padding:1.2rem;
}

.section{margin-bottom:2rem}
.section h2{color:var(--green)}

.panel{
  background:white;
  border:1px solid var(--border);
  border-radius:8px;
  padding:1rem;
}

.filters{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:.8rem;
}

input,select{
  padding:.55rem;
  border:1px solid var(--border);
  border-radius:5px;
}

button{
  margin-top:.8rem;
  background:var(--green);
  color:white;
  border:none;
  padding:.7rem;
  border-radius:5px;
  cursor:pointer;
  width:100%;
}

.tag{
  display:inline-block;
  background:var(--green);
  color:white;
  padding:.4rem .8rem;
  border-radius:20px;
  font-size:.8rem;
  margin:.2rem;
  cursor:pointer;
}

.tag.red{background:var(--red)}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:1rem;
}

.card{
  border:1px solid var(--border);
  border-radius:8px;
  padding:1rem;
  background:white;
}

.index-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1rem;
}

/* MODALS */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:20;
}

.modal-content{
  background:white;
  max-width:800px;
  margin:5% auto;
  padding:1.5rem;
  border-radius:8px;
  position:relative;
}

.close{
  position:absolute;
  top:10px;
  right:15px;
  cursor:pointer;
  font-size:1.2rem;
}

footer{
  text-align:center;
  padding:1rem;
  background:white;
  border-top:1px solid var(--border);
  font-size:.85rem;
}
</style>
</head>

<body>

<header>
<h1>Centro de Recursos · Lenguas Modernas</h1>
<nav>
  <a href="#buscar">Buscar</a>
  <a href="#keywords">Keywords</a>
  <a href="#indice">Índice</a>
  <a href="#biblioteca">Biblioteca</a>
  <a href="#recursos">Resultados</a>
  <a href="#historial">Historial</a>
</nav>
</header>

<main>

<section id="buscar" class="section">
<h2>Búsqueda de recursos</h2>
<div class="panel">
  <div class="filters">
    <input id="keyword" placeholder="Buscar palabra clave">
    <select id="language">
      <option value="">Idioma</option>
      <option>Inglés</option>
      <option>Francés</option>
      <option>Alemán</option>
    </select>
    <select id="topic">
      <option value="">Temática</option>
      <option>Gramática</option>
      <option>Vocabulario</option>
      <option>Comprensión</option>
      <option>Producción</option>
    </select>
    <select id="level">
      <option value="">Nivel</option>
      <option>Básico</option>
      <option>Intermedio</option>
      <option>Avanzado</option>
    </select>
  </div>
  <button onclick="search()">Buscar</button>
</div>
</section>

<section id="keywords" class="section">
<h2>Keywords frecuentes</h2>
<div class="panel">
  <span class="tag" onclick="openKeyword('Gramática')">Gramática</span>
  <span class="tag" onclick="openKeyword('Vocabulario')">Vocabulario</span>
  <span class="tag" onclick="openKeyword('Comprensión')">Comprensión</span>
  <span class="tag" onclick="openKeyword('Producción')">Producción</span>
  <span class="tag red" onclick="openKeyword('Inglés')">Inglés</span>
</div>
</section>

<section id="indice" class="section">
<h2>Índice de navegación</h2>
<div class="panel index-grid">
  <div><h3>Inglés</h3><p>Gramática · Vocabulario · Producción</p></div>
  <div><h3>Francés</h3><p>Comprensión · Lectura</p></div>
</div>
</section>

<section id="biblioteca" class="section">
<h2>Biblioteca académica</h2>
<div class="panel">
  <p><strong>Repositorio Académico de Lenguas Modernas</strong></p>
  <button onclick="openModal('repoModal');saveHistory('Repositorio → Acceso')">
    Acceder al repositorio completo
  </button>
</div>
</section>

<section id="recursos" class="section">
<h2>Resultados</h2>
<div id="results" class="grid"></div>
</section>

<section id="historial" class="section">
<h2>Historial de actividad</h2>
<div class="panel" id="history"></div>
</section>

</main>

<footer>Centro de Recursos · Lenguas Modernas</footer>

<div id="keywordModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeModal('keywordModal')">✖</span>
<div id="keywordContent"></div>
</div>
</div>

<div id="repoModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeModal('repoModal')">✖</span>
<h3>Repositorio Académico de Lenguas</h3>
<p>Guías completas de escucha, lectura, escritura, habla y gramática.</p>
</div>
</div>

<script>
const resources=[
  {title:"Gramática básica",lang:"Inglés",topic:"Gramática",level:"Básico"},
  {title:"Producción escrita",lang:"Inglés",topic:"Producción",level:"Intermedio"}
];

function search(){
  const k=keyword.value.toLowerCase();
  const l=language.value;
  const t=topic.value;
  const lv=level.value;
  const resultsBox=document.getElementById("results");
  resultsBox.innerHTML="";
  resources.filter(r=>
    (!k||r.title.toLowerCase().includes(k)) &&
    (!l||r.lang===l) &&
    (!t||r.topic===t) &&
    (!lv||r.level===lv)
  ).forEach(r=>{
    resultsBox.innerHTML+=`<div class="card"><h4>${r.title}</h4></div>`;
  });
  saveHistory(`Búsqueda → ${k||"*"} | ${l||"*"} | ${t||"*"} | ${lv||"*"}`);
}

function openKeyword(k){
  document.getElementById("keywordContent").innerHTML=`
    <h3>${k}</h3>
    <p>Contenido pedagógico sobre ${k}.</p>
    <button onclick="keyword.value='${k}';search()">Ver recursos relacionados</button>
  `;
  saveHistory(`Keyword → ${k}`);
  openModal('keywordModal');
}

function openModal(id){
  document.getElementById(id).style.display="block";
}

function closeModal(id){
  document.getElementById(id).style.display="none";
}

function saveHistory(text){
  const key="history-log";
  let h=JSON.parse(localStorage.getItem(key))||[];
  h.unshift(text);
  localStorage.setItem(key,JSON.stringify(h.slice(0,15)));
  renderHistory();
}

function renderHistory(){
  const historyBox=document.getElementById("history");
  let h=JSON.parse(localStorage.getItem("history-log"))||[];
  historyBox.innerHTML=h.length
    ? h.map(i=>"• "+i).join("<br>")
    : "Sin actividad registrada.";
}

renderHistory();
</script>

</body>
</html>
